[event]
	id=advance_companies_on_own_turn
	name=side turn
	first_time_only=no
	[if]
		{IS_GLOBAL_MODE}
		[then]
			[store_unit]
				[filter]
					side=$side_number
					race=Company
				[/filter]
				variable=tmp
			[/store_unit]
		
			{FOREACH tmp i}
				[unstore_unit]
					variable=tmp[$i|]
					advance=yes
					fire_event=yes
					animate=yes
				[/unstore_unit]
			{NEXT i}

			{CLEAR_VARIABLE tmp}
		[/then]
	[/if]
[/event]

[event]
	name=enter local mode
	first_time_only=no
	[event]
		id=local_mode_time_over
		name="turn $GN_LOCAL_TURN_LIMIT| end"
		[if]
			[variable]
				name=turn_number
				greater_than_equal_to=$GN_LOCAL_TURN_LIMIT
			[/variable]
			[then]
				{SET_GLOBAL_MODE}
			[/then]
		[/if]
	[/event]
[/event]

